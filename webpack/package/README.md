# PACKAGE Manager

常见的包管理器有以下几种

1. npm -> `NodeJs` 自带的包管理器
2. cnpm -> 淘宝(没错，就是阿里)包管理器
3. pnpm -> 由 `Zoltan Kochan` 个人开发一款开源包管理器
4. yarn -> `Facebook`、`Google`、`Exponent` 和 `Tilde` 联合推出的包管理器

一个项目有且仅有一个包管理器，如果出现多个会导致`node_modules` 内的包出现混乱或者项目运行出错(这种错误有点无厘头，代码明明没错，但要么提示编译错误，要么提示项目哪哪哪代码有问题，偏偏去debug的时候，代码又没错，此时你试着删除 `node_modules` 再重新安装包，问题就这么解决了)。

例子中使用的是 `npm` 但在国内通过该安装包下载的包速度过于缓慢，所以不得不去使用其它包管理器来提高下载速度

## 版本控制

### 版本迭代规范

实质上这不应该写这一点，因为这只关系到开发者，但个人认为使用者也有必要了解这些。*该段内容来源于* [Skylor.min](#https://www.cnblogs.com/skylor/p/9675646.html)

**语义化版本控制规范 [SemVer 全称Semantic Versioning]** 是Github起草的一个语义化版本号管理模块，它实现了版本号的解析和比较，规范版本号的格式，主要解决了依赖地狱的问题。

**基本规则**

语义化版本控制，顾名思义，就是让版本号更具有语义，可以传达出关于软件本身的一些重要信息而不只是简单的一串数字。

**基本版本格式**

> 主版本号（Major）.次版本号（Minor）.修订号（Patch）

 * 主版本号（Major）：当你做了不兼容的API修改
 * 次版本号（Minor）：当你做了向下兼容的功能性新增
 * 修订号（Patch）：当你做了向下兼容的问题修正
 * 先行版本号及版本编译信息可以加到基本版本格式的后面，作为延伸
    * 先行版本号由首位的连接号”-“、标识符号（由ASCII码的英文数字和连接号标识符[0-9A-Za-z-]组成）、句点”.“组成。如1.0.0-alpha、1.0.0-alpha.1、1.0.0-0.3.7、1.0.0-x.7.z.92。先行版的优先级低于相关联的标准版本

    * 版本编译信息由首位的一个加号和一连串以句点分隔的标识符号（由ASCII码的英文数字和连接号标识符[0-9A-Za-z-]组成）组成。如1.0.0-alpha+001、1.0.0+20130313144700、1.0.0-beta+exp.sha.5114f85。判断版本优先层级时，版本编译信息可以被忽略

**比较版本高低**

判断优先层级时，必须把版本依序拆分为主版本号、次版本号、修订号及先行版本号后进行比较。由左到右依次比较每个标识符号，第一个差异值用来决定优先层级（其中字母连接号以ASCII排序进行比较、其他都相同时栏位多的先行版本号优先级较高）。如：

> 1.0.0-alpha < 1.0.0-alpha.1 < 1.0.0-alpha.beta < 1.0.0-beta < 1.0.0 < 2.0.0 < 2.1.0 < 2.1.1。

---

了解该段信息的主要作用是当某天你重新下载之前的插件时，怎么都运行报错，那么可能是由于开发者的不规范版本迭代导致，所以再 debug 时了解了报错的插件后对该插件进行版本锁定。

举例：
任意包管理器下载的插件默认是 `^x.x.x`，也就是说使用 `^` 符号开头的最多更新到最新的次版本更新。原本使用的版本为 1.5.x，而开发者在 1.6.0 的时候API全变了导致你项目所依赖的 API 根本找不到。

---

符号 | 版本 | 说明
-|-|-
空  | 1.1.2 | 指定 1.1.2 版本
^ | 1.1.2 | `1.x.x` 只要最前面的1不变，更新到1的最新版本
~ | 1.1.2 | `1.1.x` 只要前面两个1不变，更新到1.1的最新版本
* | *     | 安装这个包的最新版本
>= | 1.1.2 | 如果有大于1.1.2的包就安装最新的，没有就 1.1.2的
<= | 1.1.2 | 如上～取反
>= 1.1.2 && < 2.0.0 | 1.1.2 | 如上，但要小于 2.0.0

通常在安装的时候，如果不指定版本号，那么默认下载最新版，如果指定版本号，那么就想这样。

```bash
# webpack 最新版本
npm install webpack

# webpack 指定版本
npm install webpack@">=4.0.0"
```

```json
// package.json
// ...
"dependences": {
  "webpack": "~4.0.0",
  "webpack": "^4.0.0",
  "webpack": "*",
}
// ...
```
