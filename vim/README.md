# VIM的一些常见命令

首先介绍一些常用的 `vi` 命令

## normal 模式下的常用命令

```vi
# 下面的执行后会直接进入插入模式
i 	-> 	表示可以插入字符了
I 	-> 	表示在光标这行行首进行插入
o 	-> 	表示在下一行(新的一行)开始插入
O 	-> 	表示在上一行(新的一行)开始插入
a 	-> 	表示在光标的下一个字符处插入
A 	-> 	表示在当前行的行尾插入


# 下面的不会插入(非空白就是比如一行的最前面是缩紧或者是空格，0 会移动到缩紧和空格前面，^ 不会， $ 与 g_ 同理)
0 | ^ 	-> 	移动到行首(后者属于非空白字符前)
$ | g_ 	-> 	移动到行尾前一个(后者属于非空白字符前)


# 删除命令：可以搭配数字来操作如 2x 删除两个字符， 2dw 删除两个单词
x	->	[数字]删除字符（没数字情况下1个字符）

d	->	[数字]删除单词（要配合其它命令来操作）
dh	->	删除左边一个字符
dj	->	～当前行与下一行
dk	->	～当前行与上一行
dl	->	～右边一个字符
dd	->	[数字]～当前行
d$	->	～当前光标位置删除到行尾
dg_	->	～当前光标位置到行尾（不包括空白/缩进）
d0	->	当前光标位置删除到行首
d^	->	当前光标位置删除到行首（不包括空白/缩进）
dw	->	[数字]
diw	->	[数字]
daw	->	[数字]
# daw 以及dw=diw，举例，当光标在a前面：'abcd '，daw 后剩下'', diw 后剩下' '，剩下个空格
dt	->	[数字]dt[你要删的目标字符后一位]，举例：abcdefg("param"), 当光标在第一个双引号后面，dt" 那么 param 就被删了。

# 修改命令：以下小写都可以搭配数字来操作,以下命令都会进入插入模式
r	->	[数字]替换当前字符（没数字情况下1个字符）
R	->	从当前字符(包含自身)开始一直替换直到你退出替换模式
s	->	[数字]删除当前字符并进入插入模式
S	->	删除整行包括空白
c	->	[数字] cw=ciw|caw
		ch|cj|ck|cl|c$|cg_|c^|c0...太多了，自己体会
C	->	从当前字符（包含自身）一直删到行尾
ct	->	与上面的dt一样


u	->	撤销上面(删除与修改)的操作（表示还原）
Ctrl + r ->	恢复撤销（表示再删掉）


# 查询命令：如果你没有设置搜索高亮会头疼，所以看看有没有设置
vi ~/.vimrc
" 让搜索结果高亮
set hls
" 一边搜索一边高亮显示
set incsearch

/	->	从文件头开始找
?	->	从文件尾开始找
n	->	跳到上一个匹配
N	->	跳到下一个匹配
*	->	*与#说是进行单词前向后向匹配，没搞懂，搞懂在写上
#	->	


Esc | Ctrl + [ -> 回退到 normal 模式

# 搜索替换: pattern 中的检测字符如果包含$/%/[]/?/!/. 等等字符需要反斜杠，具体查看正则语法规范或者查关于vim对于正则的magic设定

:[range] {substitute}/{pattern}/{string}/[flags]
range	->	%(整个文件) | 1,100(从第一行到一百行)
substitute ->	替换模式，可以缩写成 s
pattern	->	可以使用正则表达式
string	->	要替换的字符
flags	->	[可省略] g(表示全局) | c(每次替换都询问) | n(匹配到的个数
)

举例：hello world
% s/n/vim/g	（这一段表示整个文件匹配n，替换成vim）
80,83 s/world//n	(这一段表示只在80到83行匹配world，查询匹配到的个数,不替换)
举例：hello_world and hello+world and hello world
80,90 s/\W\@<!world/handsome/g	hello_world 替换成了 hello_handsome
86,90 s/[^\+]\@<!world/handsome/g hello+world 替换成了 hello+handsome

# 下面有点费脑力，单独拎出来放一堆
w 	-> 	光标移动到下一个单词前面（以字符类型为单位，比如一句话有中文/字母/字符，相比 W 光标会跳N+1次）
W 	-> 	光标移动到下一个单词前面（以 空格/换行符 为单位）
e 	-> 	光标移动到下一个单词结尾（对应 w 单位）
E 	-> 	光标移动到下一个单词结尾（对应 W 单位）
b 	-> 	光标移动到上一个单词开头（对应 w 单位）-> 跳到中文/字母/字符开头，也可以理解为是不同类型的前面（中文/字母/字符）
B 	-> 	光标移动到上一个单词结尾（对应 W 单位）-> 跳到空格/换行符结尾,也可以理解为是不同类型的前面（空格/换行符）


f 	-> 	光标移动到你要输入的字前面，比如光标在这里 'abcd abcd abcd'，fa 光标移动到第一个a的前面，2fa 光标移动到第二个a前面，以此类推, 还可以使用;找下一个，逗号来找上一个
t 	-> 	光标移动到你要输入的字前面的前面，如上面的例子，ta 光标移动到'前面，3ta移动到空格的前面，也就是d的后面
gi 	-> 	光标跳转到上一次编辑的位置
Ctrl + v -> 	块状选择然后根据 H（左） J（下） K（上） L（右) 根据命令来执行想要的结果，比如选择后按 d 来删除 x 来剪切...
Ctrl + h -> 	删除光标前一个的字符（适用于Terminal）
Ctrl + w -> 	删除光标前一个单词（适用于Terminal）
Ctrl + u -> 	删除当前行（适用于Terminal）
Ctrl + u -> 	上翻（normal 模式）
Ctrl + f -> 	下翻（normal 模式）

gg	-> 	移动到文件的开头
G 	->	移动到文件最后一行的行首
Ctrl + o ->	返回移动前的位置

H 	-> 	移动到当前屏幕文件的开头
M 	-> 	～中间
L 	-> 	～结尾
zz	->	把当前行放到屏幕中间显示
```

## 补充终端的快捷键

```bash
Ctrl + h -> 删除光标前一个的字符（适用于Terminal）
Ctrl + w -> 删除光标前一个单词（适用于Terminal）
Ctrl + u -> 删除当前行（适用于Terminal），Ctrl + c 也可以清除当前行（如果当前窗口正在运行任务，这个快捷键会中断任务的运行）
Ctrl + a -> 光标移动到最前方
Ctrl + e -> 光标移动到最后面
Ctrl + k -> 清空屏幕所有信息，保留当前输入行,MAC 下可以 Ctrl + l 等效
Ctrl + f -> 光标向后移动一位
Ctrl + b -> 光标向前移动一位
Ctrl + y -> 粘贴之前被（Ctrl + u / w / k）删除的内容
```

---

### 学后感言

学习vim不为装逼，仅因为后期免不了与Linux打交道，所以提前预习，习惯vim的操作，避免后期既要学Linux，又要学vim，那脑子更吃不消了。 
